{"version":3,"sources":["webpack://audiosprite/./src/pages/Utils/features/TempoCalculator/TempoCalculator.scss","webpack://audiosprite/./src/pages/Utils/features/TempoCalculator/useTempoCalculator.tsx","webpack://audiosprite/./src/pages/Utils/features/TempoCalculator/DisplayNode.tsx","webpack://audiosprite/./src/pages/Utils/features/TempoCalculator/TempoCalculator.scss?390f","webpack://audiosprite/./src/pages/Utils/features/TempoCalculator/TempoCalculator.tsx","webpack://audiosprite/./src/pages/Utils/Utils.tsx"],"names":["___CSS_LOADER_EXPORT___","push","module","id","maxTempo","useTempoCalculator","useState","baseTempo","setBaseTempo","multiplier","setMultiplier","tempoSet","useMemo","bins","Array","from","_","i","Math","pow","floor","numPowers","pivotTempo","max","map","n","filter","pivotTempi","newTempo","toFixed","includes","unshift","getTempoSet","onChangeBaseTempo","e","target","value","onChangeMultiplier","DisplayNode","fn","val","tempo","distance","log2","isFinite","console","log","className","style","left","bottom","transition","background","top","right","options","min","onChange","type","key"],"mappings":"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","file":"290.bundle.js","sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".TempoCalculator{height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;font-size:24px;row-gap:24px}.TempoCalculator .TempoCalculator--Inputs{display:flex;column-gap:16px}.TempoCalculator .TempoCalculator--Inputs>div{display:flex;flex-direction:column;row-gap:8px}.TempoCalculator .TempoCalculator--Inputs>div input{font-size:24px;text-align:center}.TempoCalculator .TempoCalculator--Display{position:relative;width:100%;max-width:500px;height:500px;background:linear-gradient(135deg, transparent 50%, black 50%)}.TempoCalculator .TempoCalculator--Display .DisplayNode{position:absolute}.TempoCalculator .TempoCalculator--Display .DisplayNode .DisplayNode--Inner .DisplayNode--Text{position:absolute}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/pages/Utils/features/TempoCalculator/TempoCalculator.scss\"],\"names\":[],\"mappings\":\"AAAA,iBACE,WAAA,CACA,YAAA,CACA,qBAAA,CACA,kBAAA,CACA,sBAAA,CACA,iBAAA,CACA,cAAA,CACA,YAAA,CACA,0CACE,YAAA,CACA,eAAA,CACA,8CACE,YAAA,CACA,qBAAA,CACA,WAAA,CACA,oDACE,cAAA,CACA,iBAAA,CAIN,2CACE,iBAAA,CACA,UAAA,CACA,eAAA,CACA,YAAA,CACA,8DAAA,CACA,wDACE,iBAAA,CAEE,+FACE,iBAAA\",\"sourcesContent\":[\".TempoCalculator {\\n  height: 100%;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n  text-align: center;\\n  font-size: 24px;\\n  row-gap: 24px;\\n  .TempoCalculator--Inputs {\\n    display: flex;\\n    column-gap: 16px;\\n    > div {\\n      display: flex;\\n      flex-direction: column;\\n      row-gap: 8px;\\n      input {\\n        font-size: 24px;\\n        text-align: center;\\n      }\\n    }\\n  }\\n  .TempoCalculator--Display {\\n    position: relative;\\n    width: 100%;\\n    max-width: 500px;\\n    height: 500px;\\n    background: linear-gradient(135deg, transparent 50%, black 50%);\\n    .DisplayNode {\\n      position: absolute;\\n      .DisplayNode--Inner {\\n        .DisplayNode--Text {\\n          position: absolute;\\n        }\\n      }\\n    }\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","import { FormEvent, useMemo, useState } from 'react';\n\nexport const minTempo = 40;\nexport const maxTempo = 360;\n\ntype getTempoSetArgs = { baseTempo: number; multiplier?: number };\nconst getTempoSet = ({ baseTempo, multiplier = 1 }: getTempoSetArgs) => {\n  if (baseTempo < minTempo || baseTempo > maxTempo) {\n    return [];\n  }\n\n  const numPowers = 9;\n  const bins = Array.from(\n    new Array(numPowers),\n    (_, i) => baseTempo * Math.pow(2, i - Math.floor(numPowers / 2)),\n  );\n\n  const pivotTempo = Math.max(\n    ...[\n      ...bins,\n      ...(multiplier === 1 ? [] : bins.map((n) => n * multiplier)),\n    ].filter((n) => n >= minTempo && n <= maxTempo),\n  );\n\n  const pivotTempi: number[] = [];\n  for (let i = 1; (pivotTempo * 4) / i >= minTempo; i++) {\n    const newTempo = (pivotTempo * 4) / i;\n    if (\n      newTempo === +newTempo.toFixed(3) &&\n      newTempo <= maxTempo &&\n      !pivotTempi.includes(newTempo)\n    ) {\n      pivotTempi.unshift((pivotTempo * 4) / i);\n    }\n  }\n\n  return pivotTempi;\n};\n\nexport const useTempoCalculator = () => {\n  const [baseTempo, setBaseTempo] = useState<string>('120');\n  const onChangeBaseTempo = (e: FormEvent<HTMLInputElement>) => {\n    setBaseTempo((e?.target as HTMLInputElement).value || '');\n  };\n\n  const [multiplier, setMultiplier] = useState<string>('3');\n  const onChangeMultiplier = (e: FormEvent<HTMLInputElement>) => {\n    setMultiplier((e?.target as HTMLInputElement).value || '');\n  };\n\n  const tempoSet = useMemo(\n    () => getTempoSet({ baseTempo: +baseTempo, multiplier: +multiplier }),\n    [baseTempo, multiplier],\n  );\n\n  return {\n    baseTempo,\n    multiplier,\n    onChangeBaseTempo,\n    onChangeMultiplier,\n    tempoSet,\n    value: baseTempo,\n  };\n};\n","import * as React from 'react';\nimport { maxTempo, minTempo } from './useTempoCalculator';\n\ntype DisplayNodePropsType = { i: number; tempo: number };\nexport const DisplayNode = ({ i, tempo }: DisplayNodePropsType) => {\n  const getDistance = (fn: (num: number) => number) => {\n    const val = 100 * (fn(tempo - minTempo) / fn(maxTempo - minTempo));\n    return isFinite(val) ? val : 0;\n  };\n  const distance = getDistance(Math.log2);\n  console.log(distance);\n  return (\n    <div\n      className=\"DisplayNode\"\n      style={{\n        // background: 'white',\n        // color: 'white',\n        left: `${distance}%`,\n        bottom: `${distance}%`,\n        transition: '75ms ease',\n      }}\n    >\n      <div className=\"DisplayNode--Inner\">\n        <div\n          className=\"DisplayNode--Text\"\n          style={{\n            background: 'white',\n            ...(i % 2 ? { left: 0, top: 0 } : { right: 0, bottom: 0 }),\n          }}\n        >\n          {tempo}\n        </div>\n      </div>\n    </div>\n  );\n};\n","import api from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/sass-loader/dist/cjs.js!./TempoCalculator.scss\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import * as React from 'react';\nimport { useTempoCalculator } from './useTempoCalculator';\nimport { DisplayNode } from './DisplayNode';\nimport './TempoCalculator.scss';\n\nexport const TempoCalculator = () => {\n  const {\n    baseTempo,\n    multiplier,\n    onChangeBaseTempo,\n    onChangeMultiplier,\n    tempoSet,\n  } = useTempoCalculator();\n\n  console.log(tempoSet);\n\n  return (\n    <div className=\"TempoCalculator\">\n      <div className=\"TempoCalculator--Inputs\">\n        <div>\n          <div>Base tempo</div>\n          <input\n            max=\"300\"\n            min=\"0\"\n            onChange={onChangeBaseTempo}\n            type=\"number\"\n            value={baseTempo}\n          />\n        </div>\n        <div>\n          <div>Seed</div>\n          <input\n            max=\"99\"\n            min=\"3\"\n            onChange={onChangeMultiplier}\n            type=\"number\"\n            value={multiplier}\n          />\n        </div>\n      </div>\n      <div className=\"TempoCalculator--Display\">\n        {tempoSet.map((tempo, i) => (\n          <DisplayNode key={i} i={i} tempo={tempo} />\n        ))}\n      </div>\n      {/* <table>\n        <tbody>\n          <tr>\n            {tempoSet.map((tempo, i) => (\n              <td key={i}>{tempo}</td>\n            ))}\n          </tr>\n          <tr>\n            <td>♩ =</td>\n            {tempoSet.map((_, i) => (\n              <td key={i} />\n            ))}\n            <td>Set tempo to this</td>\n          </tr>\n        </tbody>\n      </table> */}\n    </div>\n  );\n};\n","import * as React from 'react';\nimport { TempoCalculator } from './features';\n\nconst Utils = () => (\n  <div>\n    <TempoCalculator />\n  </div>\n);\n\nexport default Utils;\n"],"sourceRoot":""}